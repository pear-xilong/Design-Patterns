<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>05-原型模式</title>
  </head>
  <body>
    <script>
      /* const liLei = {
        name: 'lilei',
        age: 28,
        habits: ['coding', 'hiking', 'running'],
        a: () => {},
      }

      const str = JSON.stringify(liLei)
      const deep = JSON.parse(str)
      console.log(deep) */

      /*       function deepClone(obj) {
        // 如果是 值类型 或 null，则直接return
        if (typeof obj !== 'object' || obj === null) {
          return obj
        }

        // 定义结果对象
        let copy = {}

        // 如果对象是数组，则定义结果数组
        if (obj.constructor === Array) {
          copy = []
        }

        // 遍历对象的key
        for (let key in obj) {
          // 如果key是对象的自有属性
          if (obj.hasOwnProperty(key)) {
            // 递归调用深拷贝方法
            copy[key] = deepClone(obj[key])
          }
        }

        return copy
      }
 */
      function deepClone(obj) {
        if (typeof obj !== 'object' || obj === null) return obj
        let copy = {}
        if (obj.constructor === Array) {
          copy = []
        }

        for (let key in obj) {
          if (obj.hasOwnProperty(key)) {
            copy[key] = deepClone(obj[key])
          }
        }

        return copy
      }

      const liLei = {
        name: 'lilei',
        age: 28,
        habits: ['coding', 'hiking', 'running'],
        a: () => {},
      }
      const obj = deepClone(liLei)
      console.log(obj)
      console.log(obj.habits === liLei.habits)
    </script>
  </body>
</html>
